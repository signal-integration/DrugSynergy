---
title: "Training and Testing the Classifier"
output: html_document
---

## Generating a training set
```{r setup, include=FALSE}
source("generate_synthetic_data.R")

PROFCODES = read.table("profile_codes_v2.txt",header = TRUE,sep = "\t") 
expr_range = c(2, 16) 
ntimes = 10
signal_to_noise_range = 5 
synthetic_data = generate_synthetic_data(expr_range, ntimes, 
                                         signal_to_noise, PROFCODES = PROFCODES)

```


```{r setup, include=FALSE}
#library(caret)

#train LDA
lda_model = train(big_simulation[,-1], 
                  as.factor(big_simulation[,1]), 
                  method="lda", preProcess = "pca")

diag(table(synthetic_data[,1], predict(lda_model, synthetic_data[,-1])))

#training KNN
knn_model = train(big_simulation[,-1], 
                  as.factor(big_simulation[,1]),
                  method = "knn",
                  preProcess = "pca")

#predict(knn_model, newdata = big_simulation[,-1])

#training RandomForest
#library(randomForest)
#rf_model = randomForest(big_simulation[,-1],
#                as.factor(big_simulation[,1]))

```